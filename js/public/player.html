<!-- public/player.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Media Player</title>
</head>
<body>
  <h1>Media Player</h1>
  <video id="videoPlayer" controls width="640"></video>

  <script>
    const params = new URLSearchParams(window.location.search);
    const fileId = params.get('id');

    if (!fileId) {
      alert('No file ID provided');
      window.location.href = '/files.html';
    }

    const token = localStorage.getItem('token');
    if (!token) {
      alert('You must be logged in');
      window.location.href = '/index.html';
    }

    const videoPlayer = document.getElementById('videoPlayer');
    videoPlayer.src = `/files/${fileId}`;
  </script>
</body>
</html>
